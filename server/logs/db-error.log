[2025-05-11T00:36:12.438Z] [POST /api/transactions] DB ERROR: SqliteError: NOT NULL constraint failed: transactions.type
    at PreparedQuery.values (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\src\better-sqlite3\session.ts:156:26)
    at PreparedQuery.all (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\src\better-sqlite3\session.ts:124:21)
    at QueryPromise.all (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\src\sqlite-core\query-builders\insert.ts:396:26)
    at QueryPromise.execute (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\src\sqlite-core\query-builders\insert.ts:408:40)
    at QueryPromise.then (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\src\query-promise.ts:31:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-05-11T00:38:11.297Z] [POST /api/transactions] DB ERROR: SqliteError: NOT NULL constraint failed: transactions.partner_id
    at PreparedQuery.values (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\src\better-sqlite3\session.ts:156:26)
    at PreparedQuery.all (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\src\better-sqlite3\session.ts:124:21)
    at QueryPromise.all (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\src\sqlite-core\query-builders\insert.ts:396:26)
    at QueryPromise.execute (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\src\sqlite-core\query-builders\insert.ts:408:40)
    at QueryPromise.then (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\src\query-promise.ts:31:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-05-11T00:38:44.772Z] [POST /api/transactions] DB ERROR: SqliteError: NOT NULL constraint failed: transactions.partner_id
    at PreparedQuery.values (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\src\better-sqlite3\session.ts:156:26)
    at PreparedQuery.all (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\src\better-sqlite3\session.ts:124:21)
    at QueryPromise.all (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\src\sqlite-core\query-builders\insert.ts:396:26)
    at QueryPromise.execute (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\src\sqlite-core\query-builders\insert.ts:408:40)
    at QueryPromise.then (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\src\query-promise.ts:31:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-05-11T00:40:34.041Z] [POST /api/transactions] DB ERROR: SqliteError: NOT NULL constraint failed: transactions.partner_id
    at PreparedQuery.values (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\src\better-sqlite3\session.ts:156:26)
    at PreparedQuery.all (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\src\better-sqlite3\session.ts:124:21)
    at QueryPromise.all (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\src\sqlite-core\query-builders\insert.ts:396:26)
    at QueryPromise.execute (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\src\sqlite-core\query-builders\insert.ts:408:40)
    at QueryPromise.then (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\src\query-promise.ts:31:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-05-11T00:42:14.863Z] [POST /api/transactions] DB ERROR: SqliteError: NOT NULL constraint failed: transactions.partner_id
    at PreparedQuery.values (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\src\better-sqlite3\session.ts:156:26)
    at PreparedQuery.all (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\src\better-sqlite3\session.ts:124:21)
    at QueryPromise.all (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\src\sqlite-core\query-builders\insert.ts:396:26)
    at QueryPromise.execute (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\src\sqlite-core\query-builders\insert.ts:408:40)
    at QueryPromise.then (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\src\query-promise.ts:31:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-05-11T00:43:07.673Z] [POST /api/transactions] DB ERROR: SqliteError: NOT NULL constraint failed: transactions.partner_id
    at PreparedQuery.values (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\src\better-sqlite3\session.ts:156:26)
    at PreparedQuery.all (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\src\better-sqlite3\session.ts:124:21)
    at QueryPromise.all (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\src\sqlite-core\query-builders\insert.ts:396:26)
    at QueryPromise.execute (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\src\sqlite-core\query-builders\insert.ts:408:40)
    at QueryPromise.then (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\src\query-promise.ts:31:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-05-11T00:44:36.813Z] [POST /api/transactions] DB ERROR: SqliteError: NOT NULL constraint failed: transactions.partner_id
    at PreparedQuery.values (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\src\better-sqlite3\session.ts:156:26)
    at PreparedQuery.all (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\src\better-sqlite3\session.ts:124:21)
    at QueryPromise.all (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\src\sqlite-core\query-builders\insert.ts:396:26)
    at QueryPromise.execute (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\src\sqlite-core\query-builders\insert.ts:408:40)
    at QueryPromise.then (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\src\query-promise.ts:31:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-05-11T00:52:18.791Z] [POST /api/transactions] DB ERROR: SqliteError: NOT NULL constraint failed: transactions.partner_id
    at PreparedQuery.values (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\src\better-sqlite3\session.ts:156:26)
    at PreparedQuery.all (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\src\better-sqlite3\session.ts:124:21)
    at QueryPromise.all (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\src\sqlite-core\query-builders\insert.ts:396:26)
    at QueryPromise.execute (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\src\sqlite-core\query-builders\insert.ts:408:40)
    at QueryPromise.then (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\src\query-promise.ts:31:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-05-11T00:55:51.952Z] [POST /api/transactions] DB ERROR: SqliteError: NOT NULL constraint failed: transaction_items.item_id
    at PreparedQuery.values (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\src\better-sqlite3\session.ts:156:26)
    at PreparedQuery.all (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\src\better-sqlite3\session.ts:124:21)
    at QueryPromise.all (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\src\sqlite-core\query-builders\insert.ts:396:26)
    at QueryPromise.execute (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\src\sqlite-core\query-builders\insert.ts:408:40)
    at QueryPromise.then (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\src\query-promise.ts:31:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-05-11T00:59:24.371Z] [POST /api/transactions] DB ERROR: SqliteError: NOT NULL constraint failed: transaction_items.item_id
    at PreparedQuery.values (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\src\better-sqlite3\session.ts:156:26)
    at PreparedQuery.all (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\src\better-sqlite3\session.ts:124:21)
    at QueryPromise.all (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\src\sqlite-core\query-builders\insert.ts:396:26)
    at QueryPromise.execute (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\src\sqlite-core\query-builders\insert.ts:408:40)
    at QueryPromise.then (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\src\query-promise.ts:31:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-05-11T01:03:01.290Z] [POST /api/transactions] DB ERROR: SqliteError: NOT NULL constraint failed: transaction_items.unit_price
    at PreparedQuery.values (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\src\better-sqlite3\session.ts:156:26)
    at PreparedQuery.all (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\src\better-sqlite3\session.ts:124:21)
    at QueryPromise.all (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\src\sqlite-core\query-builders\insert.ts:396:26)
    at QueryPromise.execute (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\src\sqlite-core\query-builders\insert.ts:408:40)
    at QueryPromise.then (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\src\query-promise.ts:31:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-05-11T01:07:34.515Z] [DELETE /api/transactions/:id] DB ERROR: TypeError: storage.deleteTransaction is not a function
    at <anonymous> (E:\DEV\WEB_PROJECT\sbo-erp\server\api\transactions.ts:69:30)
    at Layer.handle [as handle_request] (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\layer.js:95:5)
    at next (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\route.js:149:13)
    at Route.dispatch (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\route.js:119:3)
    at Layer.handle [as handle_request] (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\layer.js:95:5)
    at E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:284:15
    at param (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:365:14)
    at param (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:376:14)
    at Function.process_params (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:421:3)
    at next (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:280:10)
    at Function.handle (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:175:3)
    at router (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:47:12)
    at Layer.handle [as handle_request] (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\layer.js:95:5)
    at trim_prefix (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:328:13)
    at E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:286:9
    at Function.process_params (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:346:12)
    at next (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:280:10)
    at Function.handle (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:175:3)
    at router (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:47:12)
    at Layer.handle [as handle_request] (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\layer.js:95:5)
    at trim_prefix (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:328:13)
    at E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:286:9
    at Function.process_params (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:346:12)
    at next (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:280:10)
    at strategy.pass (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\passport\lib\middleware\authenticate.js:355:9)
    at E:\DEV\WEB_PROJECT\sbo-erp\node_modules\passport\lib\strategies\session.js:120:12
    at pass (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\passport\lib\authenticator.js:352:31)
    at deserialized (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\passport\lib\authenticator.js:364:7)
    at <anonymous> (E:\DEV\WEB_PROJECT\sbo-erp\server\auth.ts:72:7)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-05-11T01:07:38.482Z] [DELETE /api/transactions/:id] DB ERROR: TypeError: storage.deleteTransaction is not a function
    at <anonymous> (E:\DEV\WEB_PROJECT\sbo-erp\server\api\transactions.ts:69:30)
    at Layer.handle [as handle_request] (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\layer.js:95:5)
    at next (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\route.js:149:13)
    at Route.dispatch (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\route.js:119:3)
    at Layer.handle [as handle_request] (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\layer.js:95:5)
    at E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:284:15
    at param (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:365:14)
    at param (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:376:14)
    at Function.process_params (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:421:3)
    at next (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:280:10)
    at Function.handle (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:175:3)
    at router (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:47:12)
    at Layer.handle [as handle_request] (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\layer.js:95:5)
    at trim_prefix (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:328:13)
    at E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:286:9
    at Function.process_params (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:346:12)
    at next (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:280:10)
    at Function.handle (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:175:3)
    at router (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:47:12)
    at Layer.handle [as handle_request] (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\layer.js:95:5)
    at trim_prefix (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:328:13)
    at E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:286:9
    at Function.process_params (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:346:12)
    at next (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:280:10)
    at strategy.pass (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\passport\lib\middleware\authenticate.js:355:9)
    at E:\DEV\WEB_PROJECT\sbo-erp\node_modules\passport\lib\strategies\session.js:120:12
    at pass (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\passport\lib\authenticator.js:352:31)
    at deserialized (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\passport\lib\authenticator.js:364:7)
    at <anonymous> (E:\DEV\WEB_PROJECT\sbo-erp\server\auth.ts:72:7)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-05-11T01:07:49.221Z] [POST /api/transactions] DB ERROR: SqliteError: NOT NULL constraint failed: transactions.total_amount
    at PreparedQuery.values (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\src\better-sqlite3\session.ts:156:26)
    at PreparedQuery.all (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\src\better-sqlite3\session.ts:124:21)
    at QueryPromise.all (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\src\sqlite-core\query-builders\insert.ts:396:26)
    at QueryPromise.execute (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\src\sqlite-core\query-builders\insert.ts:408:40)
    at QueryPromise.then (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\src\query-promise.ts:31:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-05-11T01:09:47.118Z] [DELETE /api/transactions/:id] DB ERROR: TypeError: storage.deleteTransaction is not a function
    at <anonymous> (E:\DEV\WEB_PROJECT\sbo-erp\server\api\transactions.ts:69:30)
    at Layer.handle [as handle_request] (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\layer.js:95:5)
    at next (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\route.js:149:13)
    at Route.dispatch (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\route.js:119:3)
    at Layer.handle [as handle_request] (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\layer.js:95:5)
    at E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:284:15
    at param (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:365:14)
    at param (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:376:14)
    at Function.process_params (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:421:3)
    at next (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:280:10)
    at Function.handle (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:175:3)
    at router (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:47:12)
    at Layer.handle [as handle_request] (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\layer.js:95:5)
    at trim_prefix (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:328:13)
    at E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:286:9
    at Function.process_params (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:346:12)
    at next (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:280:10)
    at Function.handle (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:175:3)
    at router (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:47:12)
    at Layer.handle [as handle_request] (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\layer.js:95:5)
    at trim_prefix (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:328:13)
    at E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:286:9
    at Function.process_params (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:346:12)
    at next (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:280:10)
    at strategy.pass (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\passport\lib\middleware\authenticate.js:355:9)
    at E:\DEV\WEB_PROJECT\sbo-erp\node_modules\passport\lib\strategies\session.js:120:12
    at pass (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\passport\lib\authenticator.js:352:31)
    at deserialized (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\passport\lib\authenticator.js:364:7)
    at <anonymous> (E:\DEV\WEB_PROJECT\sbo-erp\server\auth.ts:72:7)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-05-11T01:10:20.256Z] [POST /api/transactions] DB ERROR: SqliteError: NOT NULL constraint failed: transactions.total_amount
    at PreparedQuery.values (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\src\better-sqlite3\session.ts:156:26)
    at PreparedQuery.all (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\src\better-sqlite3\session.ts:124:21)
    at QueryPromise.all (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\src\sqlite-core\query-builders\insert.ts:396:26)
    at QueryPromise.execute (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\src\sqlite-core\query-builders\insert.ts:408:40)
    at QueryPromise.then (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\src\query-promise.ts:31:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-05-11T01:13:28.127Z] [POST /api/transactions] DB ERROR: SqliteError: NOT NULL constraint failed: transactions.total_amount
    at PreparedQuery.values (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\src\better-sqlite3\session.ts:156:26)
    at PreparedQuery.all (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\src\better-sqlite3\session.ts:124:21)
    at QueryPromise.all (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\src\sqlite-core\query-builders\insert.ts:396:26)
    at QueryPromise.execute (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\src\sqlite-core\query-builders\insert.ts:408:40)
    at QueryPromise.then (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\src\query-promise.ts:31:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-05-11T01:14:44.768Z] [POST /api/transactions] DB ERROR: SqliteError: NOT NULL constraint failed: transactions.total_amount
    at PreparedQuery.values (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\src\better-sqlite3\session.ts:156:26)
    at PreparedQuery.all (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\src\better-sqlite3\session.ts:124:21)
    at QueryPromise.all (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\src\sqlite-core\query-builders\insert.ts:396:26)
    at QueryPromise.execute (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\src\sqlite-core\query-builders\insert.ts:408:40)
    at QueryPromise.then (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\src\query-promise.ts:31:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-05-11T01:15:38.778Z] [POST /api/transactions] DB ERROR: SqliteError: NOT NULL constraint failed: transactions.total_amount
    at PreparedQuery.values (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\src\better-sqlite3\session.ts:156:26)
    at PreparedQuery.all (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\src\better-sqlite3\session.ts:124:21)
    at QueryPromise.all (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\src\sqlite-core\query-builders\insert.ts:396:26)
    at QueryPromise.execute (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\src\sqlite-core\query-builders\insert.ts:408:40)
    at QueryPromise.then (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\src\query-promise.ts:31:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-05-11T01:22:34.441Z] [POST /api/transactions] DB ERROR: SqliteError: NOT NULL constraint failed: transactions.total_amount
    at PreparedQuery.values (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\src\better-sqlite3\session.ts:156:26)
    at PreparedQuery.all (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\src\better-sqlite3\session.ts:124:21)
    at QueryPromise.all (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\src\sqlite-core\query-builders\insert.ts:396:26)
    at QueryPromise.execute (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\src\sqlite-core\query-builders\insert.ts:408:40)
    at QueryPromise.then (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\src\query-promise.ts:31:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-05-11T01:29:25.216Z] [POST /api/transactions] DB ERROR: SqliteError: NOT NULL constraint failed: transactions.total_amount
    at PreparedQuery.values (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\src\better-sqlite3\session.ts:156:26)
    at PreparedQuery.all (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\src\better-sqlite3\session.ts:124:21)
    at QueryPromise.all (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\src\sqlite-core\query-builders\insert.ts:396:26)
    at QueryPromise.execute (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\src\sqlite-core\query-builders\insert.ts:408:40)
    at QueryPromise.then (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\src\query-promise.ts:31:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-05-11T01:31:48.229Z] [POST /api/transactions] DB ERROR: SqliteError: NOT NULL constraint failed: transactions.total_amount
    at PreparedQuery.values (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\src\better-sqlite3\session.ts:156:26)
    at PreparedQuery.all (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\src\better-sqlite3\session.ts:124:21)
    at QueryPromise.all (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\src\sqlite-core\query-builders\insert.ts:396:26)
    at QueryPromise.execute (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\src\sqlite-core\query-builders\insert.ts:408:40)
    at QueryPromise.then (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\src\query-promise.ts:31:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-05-11T01:35:26.592Z] [POST /api/transactions] DB ERROR: SqliteError: NOT NULL constraint failed: transactions.total_amount
    at PreparedQuery.values (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\src\better-sqlite3\session.ts:156:26)
    at PreparedQuery.all (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\src\better-sqlite3\session.ts:124:21)
    at QueryPromise.all (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\src\sqlite-core\query-builders\insert.ts:396:26)
    at QueryPromise.execute (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\src\sqlite-core\query-builders\insert.ts:408:40)
    at QueryPromise.then (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\src\query-promise.ts:31:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-05-11T01:36:16.841Z] [POST /api/transactions] DB ERROR: SqliteError: NOT NULL constraint failed: transactions.total_amount
    at PreparedQuery.values (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\src\better-sqlite3\session.ts:156:26)
    at PreparedQuery.all (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\src\better-sqlite3\session.ts:124:21)
    at QueryPromise.all (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\src\sqlite-core\query-builders\insert.ts:396:26)
    at QueryPromise.execute (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\src\sqlite-core\query-builders\insert.ts:408:40)
    at QueryPromise.then (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\src\query-promise.ts:31:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-05-11T01:39:04.202Z] [DELETE /api/transactions/:id] DB ERROR: TypeError: storage.deleteTransaction is not a function
    at <anonymous> (E:\DEV\WEB_PROJECT\sbo-erp\server\api\transactions.ts:58:30)
    at Layer.handle [as handle_request] (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\layer.js:95:5)
    at next (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\route.js:149:13)
    at Route.dispatch (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\route.js:119:3)
    at Layer.handle [as handle_request] (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\layer.js:95:5)
    at E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:284:15
    at param (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:365:14)
    at param (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:376:14)
    at Function.process_params (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:421:3)
    at next (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:280:10)
    at Function.handle (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:175:3)
    at router (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:47:12)
    at Layer.handle [as handle_request] (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\layer.js:95:5)
    at trim_prefix (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:328:13)
    at E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:286:9
    at Function.process_params (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:346:12)
    at next (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:280:10)
    at Function.handle (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:175:3)
    at router (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:47:12)
    at Layer.handle [as handle_request] (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\layer.js:95:5)
    at trim_prefix (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:328:13)
    at E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:286:9
    at Function.process_params (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:346:12)
    at next (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:280:10)
    at strategy.pass (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\passport\lib\middleware\authenticate.js:355:9)
    at E:\DEV\WEB_PROJECT\sbo-erp\node_modules\passport\lib\strategies\session.js:120:12
    at pass (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\passport\lib\authenticator.js:352:31)
    at deserialized (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\passport\lib\authenticator.js:364:7)
    at <anonymous> (E:\DEV\WEB_PROJECT\sbo-erp\server\auth.ts:72:7)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-05-11T01:43:37.208Z] [POST /api/transactions] DB ERROR: TypeError: Transaction function cannot return a promise
    at Function.sqliteTransaction (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\better-sqlite3\lib\methods\transaction.js:67:10)
    at BetterSQLiteSession.transaction (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\src\better-sqlite3\session.ts:68:48)
    at BetterSQLite3Database.transaction (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\src\sqlite-core\db.ts:589:23)
    at SQLiteStorage.createTransaction (E:\DEV\WEB_PROJECT\sbo-erp\server\storage.ts:265:26)
    at <anonymous> (E:\DEV\WEB_PROJECT\sbo-erp\server\api\transactions.ts:34:30)
    at Layer.handle [as handle_request] (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\layer.js:95:5)
    at next (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\route.js:149:13)
    at Route.dispatch (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\route.js:119:3)
    at Layer.handle [as handle_request] (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\layer.js:95:5)
    at E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:284:15
    at Function.process_params (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:346:12)
    at next (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:280:10)
    at Function.handle (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:175:3)
    at router (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:47:12)
    at Layer.handle [as handle_request] (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\layer.js:95:5)
    at trim_prefix (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:328:13)
    at E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:286:9
    at Function.process_params (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:346:12)
    at next (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:280:10)
    at Function.handle (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:175:3)
    at router (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:47:12)
    at Layer.handle [as handle_request] (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\layer.js:95:5)
    at trim_prefix (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:328:13)
    at E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:286:9
    at Function.process_params (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:346:12)
    at next (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:280:10)
    at strategy.pass (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\passport\lib\middleware\authenticate.js:355:9)
    at E:\DEV\WEB_PROJECT\sbo-erp\node_modules\passport\lib\strategies\session.js:120:12
    at pass (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\passport\lib\authenticator.js:352:31)
    at deserialized (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\passport\lib\authenticator.js:364:7)
    at <anonymous> (E:\DEV\WEB_PROJECT\sbo-erp\server\auth.ts:72:7)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-05-11T01:45:31.279Z] [DELETE /api/transactions/:id] DB ERROR: TypeError: Transaction function cannot return a promise
    at Function.sqliteTransaction (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\better-sqlite3\lib\methods\transaction.js:67:10)
    at BetterSQLiteSession.transaction (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\src\better-sqlite3\session.ts:68:48)
    at BetterSQLite3Database.transaction (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\src\sqlite-core\db.ts:589:23)
    at SQLiteStorage.deleteTransaction (E:\DEV\WEB_PROJECT\sbo-erp\server\storage.ts:304:26)
    at <anonymous> (E:\DEV\WEB_PROJECT\sbo-erp\server\api\transactions.ts:58:30)
    at Layer.handle [as handle_request] (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\layer.js:95:5)
    at next (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\route.js:149:13)
    at Route.dispatch (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\route.js:119:3)
    at Layer.handle [as handle_request] (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\layer.js:95:5)
    at E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:284:15
    at param (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:365:14)
    at param (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:376:14)
    at Function.process_params (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:421:3)
    at next (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:280:10)
    at Function.handle (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:175:3)
    at router (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:47:12)
    at Layer.handle [as handle_request] (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\layer.js:95:5)
    at trim_prefix (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:328:13)
    at E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:286:9
    at Function.process_params (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:346:12)
    at next (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:280:10)
    at Function.handle (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:175:3)
    at router (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:47:12)
    at Layer.handle [as handle_request] (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\layer.js:95:5)
    at trim_prefix (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:328:13)
    at E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:286:9
    at Function.process_params (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:346:12)
    at next (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:280:10)
    at strategy.pass (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\passport\lib\middleware\authenticate.js:355:9)
    at E:\DEV\WEB_PROJECT\sbo-erp\node_modules\passport\lib\strategies\session.js:120:12
    at pass (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\passport\lib\authenticator.js:352:31)
    at deserialized (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\passport\lib\authenticator.js:364:7)
    at <anonymous> (E:\DEV\WEB_PROJECT\sbo-erp\server\auth.ts:72:7)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-05-11T01:47:11.590Z] [POST /api/transactions] DB ERROR: TypeError: Cannot read properties of undefined (reading 'id')
    at Function.<anonymous> (E:\DEV\WEB_PROJECT\sbo-erp\server\storage.ts:272:76)
    at Function.sqliteTransaction (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\better-sqlite3\lib\methods\transaction.js:65:24)
    at BetterSQLiteSession.transaction (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\src\better-sqlite3\session.ts:68:48)
    at BetterSQLite3Database.transaction (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\src\sqlite-core\db.ts:589:23)
    at SQLiteStorage.createTransaction (E:\DEV\WEB_PROJECT\sbo-erp\server\storage.ts:266:20)
    at <anonymous> (E:\DEV\WEB_PROJECT\sbo-erp\server\api\transactions.ts:34:30)
    at Layer.handle [as handle_request] (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\layer.js:95:5)
    at next (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\route.js:149:13)
    at Route.dispatch (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\route.js:119:3)
    at Layer.handle [as handle_request] (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\layer.js:95:5)
    at E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:284:15
    at Function.process_params (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:346:12)
    at next (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:280:10)
    at Function.handle (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:175:3)
    at router (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:47:12)
    at Layer.handle [as handle_request] (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\layer.js:95:5)
    at trim_prefix (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:328:13)
    at E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:286:9
    at Function.process_params (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:346:12)
    at next (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:280:10)
    at Function.handle (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:175:3)
    at router (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:47:12)
    at Layer.handle [as handle_request] (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\layer.js:95:5)
    at trim_prefix (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:328:13)
    at E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:286:9
    at Function.process_params (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:346:12)
    at next (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:280:10)
    at strategy.pass (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\passport\lib\middleware\authenticate.js:355:9)
    at E:\DEV\WEB_PROJECT\sbo-erp\node_modules\passport\lib\strategies\session.js:120:12
    at pass (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\passport\lib\authenticator.js:352:31)
    at deserialized (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\passport\lib\authenticator.js:364:7)
    at <anonymous> (E:\DEV\WEB_PROJECT\sbo-erp\server\auth.ts:72:7)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-05-11T01:47:56.597Z] [POST /api/transactions] DB ERROR: TypeError: Cannot read properties of undefined (reading 'id')
    at Function.<anonymous> (E:\DEV\WEB_PROJECT\sbo-erp\server\storage.ts:272:76)
    at Function.sqliteTransaction (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\better-sqlite3\lib\methods\transaction.js:65:24)
    at BetterSQLiteSession.transaction (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\src\better-sqlite3\session.ts:68:48)
    at BetterSQLite3Database.transaction (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\src\sqlite-core\db.ts:589:23)
    at SQLiteStorage.createTransaction (E:\DEV\WEB_PROJECT\sbo-erp\server\storage.ts:266:20)
    at <anonymous> (E:\DEV\WEB_PROJECT\sbo-erp\server\api\transactions.ts:34:30)
    at Layer.handle [as handle_request] (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\layer.js:95:5)
    at next (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\route.js:149:13)
    at Route.dispatch (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\route.js:119:3)
    at Layer.handle [as handle_request] (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\layer.js:95:5)
    at E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:284:15
    at Function.process_params (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:346:12)
    at next (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:280:10)
    at Function.handle (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:175:3)
    at router (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:47:12)
    at Layer.handle [as handle_request] (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\layer.js:95:5)
    at trim_prefix (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:328:13)
    at E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:286:9
    at Function.process_params (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:346:12)
    at next (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:280:10)
    at Function.handle (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:175:3)
    at router (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:47:12)
    at Layer.handle [as handle_request] (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\layer.js:95:5)
    at trim_prefix (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:328:13)
    at E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:286:9
    at Function.process_params (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:346:12)
    at next (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:280:10)
    at strategy.pass (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\passport\lib\middleware\authenticate.js:355:9)
    at E:\DEV\WEB_PROJECT\sbo-erp\node_modules\passport\lib\strategies\session.js:120:12
    at pass (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\passport\lib\authenticator.js:352:31)
    at deserialized (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\passport\lib\authenticator.js:364:7)
    at <anonymous> (E:\DEV\WEB_PROJECT\sbo-erp\server\auth.ts:72:7)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-05-11T01:48:18.599Z] [POST /api/transactions] DB ERROR: SqliteError: NOT NULL constraint failed: transaction_items.transaction_id
    at PreparedQuery.run (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\src\better-sqlite3\session.ts:113:20)
    at QueryPromise.run (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\src\sqlite-core\query-builders\insert.ts:392:26)
    at Function.<anonymous> (E:\DEV\WEB_PROJECT\sbo-erp\server\storage.ts:275:72)
    at Function.sqliteTransaction (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\better-sqlite3\lib\methods\transaction.js:65:24)
    at BetterSQLiteSession.transaction (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\src\better-sqlite3\session.ts:68:48)
    at BetterSQLite3Database.transaction (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\src\sqlite-core\db.ts:589:23)
    at SQLiteStorage.createTransaction (E:\DEV\WEB_PROJECT\sbo-erp\server\storage.ts:265:20)
    at <anonymous> (E:\DEV\WEB_PROJECT\sbo-erp\server\api\transactions.ts:34:30)
    at Layer.handle [as handle_request] (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\layer.js:95:5)
    at next (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\route.js:149:13)
    at Route.dispatch (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\route.js:119:3)
    at Layer.handle [as handle_request] (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\layer.js:95:5)
    at E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:284:15
    at Function.process_params (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:346:12)
    at next (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:280:10)
    at Function.handle (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:175:3)
    at router (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:47:12)
    at Layer.handle [as handle_request] (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\layer.js:95:5)
    at trim_prefix (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:328:13)
    at E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:286:9
    at Function.process_params (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:346:12)
    at next (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:280:10)
    at Function.handle (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:175:3)
    at router (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:47:12)
    at Layer.handle [as handle_request] (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\layer.js:95:5)
    at trim_prefix (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:328:13)
    at E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:286:9
    at Function.process_params (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:346:12)
    at next (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:280:10)
    at strategy.pass (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\passport\lib\middleware\authenticate.js:355:9)
    at E:\DEV\WEB_PROJECT\sbo-erp\node_modules\passport\lib\strategies\session.js:120:12
    at pass (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\passport\lib\authenticator.js:352:31)
    at deserialized (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\passport\lib\authenticator.js:364:7)
    at <anonymous> (E:\DEV\WEB_PROJECT\sbo-erp\server\auth.ts:72:7)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-05-11T02:25:53.991Z] [PUT /api/transactions/:id] DB ERROR: TypeError: Cannot read properties of undefined (reading 'Symbol(drizzle:Columns)')
    at <anonymous> (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\src\utils.ts:120:35)
    at Array.map (<anonymous>)
    at mapUpdateSet (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\src\utils.ts:115:4)
    at SQLiteUpdateBuilder.set (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\src\sqlite-core\query-builders\update.ts:75:4)
    at Function.<anonymous> (E:\DEV\WEB_PROJECT\sbo-erp\server\api\transactions.ts:90:39)
    at Function.sqliteTransaction (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\better-sqlite3\lib\methods\transaction.js:65:24)
    at BetterSQLiteSession.transaction (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\src\better-sqlite3\session.ts:68:48)
    at BetterSQLite3Database.transaction (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\src\sqlite-core\db.ts:589:23)
    at <anonymous> (E:\DEV\WEB_PROJECT\sbo-erp\server\api\transactions.ts:88:38)
    at Layer.handle [as handle_request] (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\layer.js:95:5)
    at next (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\route.js:149:13)
    at Route.dispatch (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\route.js:119:3)
    at Layer.handle [as handle_request] (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\layer.js:95:5)
    at E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:284:15
    at param (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:365:14)
    at param (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:376:14)
    at Function.process_params (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:421:3)
    at next (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:280:10)
    at Function.handle (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:175:3)
    at router (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:47:12)
    at Layer.handle [as handle_request] (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\layer.js:95:5)
    at trim_prefix (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:328:13)
    at E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:286:9
    at Function.process_params (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:346:12)
    at next (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:280:10)
    at Function.handle (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:175:3)
    at router (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:47:12)
    at Layer.handle [as handle_request] (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\layer.js:95:5)
    at trim_prefix (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:328:13)
    at E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:286:9
    at Function.process_params (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:346:12)
    at next (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:280:10)
    at strategy.pass (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\passport\lib\middleware\authenticate.js:355:9)
    at E:\DEV\WEB_PROJECT\sbo-erp\node_modules\passport\lib\strategies\session.js:120:12
    at pass (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\passport\lib\authenticator.js:352:31)
    at deserialized (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\passport\lib\authenticator.js:364:7)
    at <anonymous> (E:\DEV\WEB_PROJECT\sbo-erp\server\auth.ts:72:7)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[2025-05-11T03:45:03.454Z] [POST /api/transactions] DB ERROR: SqliteError: NOT NULL constraint failed: transactions.partner_id
    at PreparedQuery.run (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\src\better-sqlite3\session.ts:113:20)
    at QueryPromise.run (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\src\sqlite-core\query-builders\insert.ts:392:26)
    at Function.<anonymous> (E:\DEV\WEB_PROJECT\sbo-erp\server\storage.ts:267:79)
    at Function.sqliteTransaction (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\better-sqlite3\lib\methods\transaction.js:65:24)
    at BetterSQLiteSession.transaction (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\src\better-sqlite3\session.ts:68:48)
    at BetterSQLite3Database.transaction (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\src\sqlite-core\db.ts:589:23)
    at SQLiteStorage.createTransaction (E:\DEV\WEB_PROJECT\sbo-erp\server\storage.ts:265:20)
    at <anonymous> (E:\DEV\WEB_PROJECT\sbo-erp\server\api\transactions.ts:39:30)
    at Layer.handle [as handle_request] (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\layer.js:95:5)
    at next (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\route.js:149:13)
    at Route.dispatch (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\route.js:119:3)
    at Layer.handle [as handle_request] (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\layer.js:95:5)
    at E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:284:15
    at Function.process_params (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:346:12)
    at next (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:280:10)
    at Function.handle (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:175:3)
    at router (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:47:12)
    at Layer.handle [as handle_request] (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\layer.js:95:5)
    at trim_prefix (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:328:13)
    at E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:286:9
    at Function.process_params (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:346:12)
    at next (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:280:10)
    at Function.handle (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:175:3)
    at router (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:47:12)
    at Layer.handle [as handle_request] (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\layer.js:95:5)
    at trim_prefix (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:328:13)
    at E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:286:9
    at Function.process_params (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:346:12)
    at next (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\express\lib\router\index.js:280:10)
    at strategy.pass (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\passport\lib\middleware\authenticate.js:355:9)
    at E:\DEV\WEB_PROJECT\sbo-erp\node_modules\passport\lib\strategies\session.js:120:12
    at pass (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\passport\lib\authenticator.js:352:31)
    at deserialized (E:\DEV\WEB_PROJECT\sbo-erp\node_modules\passport\lib\authenticator.js:364:7)
    at <anonymous> (E:\DEV\WEB_PROJECT\sbo-erp\server\auth.ts:72:7)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
